
<div class="container feed rounded mt-5">
  <div class="feed-header">
    <% if (typeof disabled !== 'undefined' && disabled) { %>
      <p>Log In To Browse!</p>
    <% } %>
  </div>
 
  <% profiles.forEach(profile => { %>
    <% const path = (typeof disabled !== 'undefined' && disabled) ? '#' : `/profiles/${profile._id}` %>
    <div class="row feed-content">
      <a href="<%= path %>">
        <div class="col-12 feed-item rounded">
          <div class="login-circle feed-pic">
            <img
              src="<%= profile.petPhoto.profilePhoto %>"
              alt="<%= profile.petName %> Profile Image"
              class="img-fluid"
            />
          </div>
          <div class="feed-info">
            <h6><%= profile.petName %></h6>
            <small><%= profile.petDetails.animalType %><% if (profile.petDetails.breed) { %>, <%= profile.petDetails.breed %><% } %></small>
            <% if (profile.petDetails.bio && typeof profile.petDetails.bio === 'string') { %>
              <small><%= profile.petDetails.bio.split(' ').slice(0, 5).join(' ') %>...</small>
            <% } else { %>
              <small>No bio available</small>
            <% } %>
          </div>
          
        </div>
      </a>
    </div>
  <% }); %>

</div>