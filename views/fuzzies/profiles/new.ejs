<%- include('../../partials/header') %>

<form class="profile-form" action="/profiles/" method="POST">
  <div class="form-group">
    <input
      type="text"
      name="petName"
      class="petName form-control"
      placeholder="Your Pet Name Here"
      required
    />

    <select name="animalType" id="animalTypeSelect" class="form-control" onchange="toggleAnimalTypeInput()">
      <option value="Dog">Dog</option>
      <option value="Cat">Cat</option>
      <option value="Other">Other (Please specify)</option>
    </select>
    
    <input
      type="text"
      name="animalTypeOther"
      id="animalTypeOther"
      class="form-control mt-2"
      placeholder="Specify Animal Type"
      style="display: none;"
    />
    
<input
  type="text"
  name="breed"
  class="breed form-control"
  placeholder="Your Pet Breed"
  list="dogBreedList" // Default to dog breeds
  id="breedInput"
/>

<datalist id="dogBreedList">
  <option value="Mutt"></option>
  <option value="Other"></option>
  <option value="Unknown"></option>
  <% dogBreeds.forEach(function(breed) { %>
    <option value="<%= breed %>"></option>
  <% }); %>
</datalist>

<datalist id="catBreedList">
  <option value="Domestic Shorthair"></option>
  <option value="Domestic Longhair"></option>
  <option value="Other"></option>
  <option value="Unknown"></option>
  <% catBreeds.forEach(function(breed) { %>
    <option value="<%= breed %>"></option>
  <% }); %>
</datalist>

  

    <input
      type="date"
      name="dob"
      class="dob form-control"
      placeholder="DOB"
      required
    />

    <textarea
      name="bio"
      id="bio"
      placeholder="Pet Bio"
      cols="30"
      rows="5"
      class="rounded"
    ></textarea>

    <input
      type="text"
      name="favoriteToys"
      class="favoriteToys form-control"
      placeholder="Favorite Toys (comma separated)"
    />

    <input
      type="text"
      name="banner"
      class="banner form-control"
      placeholder="Banner URL"
    />

    <input
      type="text"
      name="owners"
      class="owners form-control"
      placeholder="Pet Owners (comma separated)"
    />

    <input
      class="form-control"
      type="text"
      name="profilePhoto"
      id="profilePhoto"
      placeholder="Add Profile Photo"
    />

    <button class="btn-primary btn" type="submit">Submit</button>
  </div>
</form>

<script>
  function toggleAnimalTypeInput() {
    var animalTypeSelect = document.getElementById('animalTypeSelect');
    var animalTypeOther = document.getElementById('animalTypeOther');
    var breedInput = document.getElementById('breedInput');

    if (animalTypeSelect.value === 'Other') {
      animalTypeOther.style.display = '';
      breedInput.removeAttribute('list'); // Remove datalist for 'Other'
      breedInput.placeholder = 'Specify Animal Type';
    } else {
      animalTypeOther.style.display = 'none';
      // Reset placeholder
      breedInput.placeholder = 'Your Pet Breed';

      // Switch datalist based on animal type
      if (animalTypeSelect.value === 'Dog') {
        breedInput.setAttribute('list', 'dogBreedList');
      } else if (animalTypeSelect.value === 'Cat') {
        breedInput.setAttribute('list', 'catBreedList');
      }
    }
  }
</script>

<%- include('../../partials/side-feed', { profiles }) %>

<%- include('../../partials/footer') %>
